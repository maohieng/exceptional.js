{"version":3,"sources":["exceptional.ts"],"names":[],"mappings":";;AAAA,iDAO0B;AAG1B;IAEE;;OAEG;IACH,YACU,UAAqB;QAArB,eAAU,GAAV,UAAU,CAAW;IAC5B,CAAC;IAEJ,MAAM,CAAC,MAAM,CAAE,EAAa;QAC1B,MAAM,CAAC,IAAI,WAAW,CAAC,EAAE,CAAC,CAAC;IAC7B,CAAC;IAED,eAAe,CAAY,IAAY,EAAE,OAAgB;QACvD,MAAM,CAAC,IAAI,CAAC,YAAY,CACtB,4BAAmB,EAAE,IAAI,EAAE,OAAO,CACnC,CAAC;IACJ,CAAC;IAED,eAAe,CAAY,IAAY,EAAE,OAAgB;QACvD,MAAM,CAAC,IAAI,CAAC,YAAY,CACtB,4BAAmB,EAAE,IAAI,EAAE,OAAO,CACnC,CAAC;IACJ,CAAC;IAED,iBAAiB,CAAY,IAAY,EAAE,OAAgB;QACzD,MAAM,CAAC,IAAI,CAAC,YAAY,CACtB,8BAAqB,EAAE,IAAI,EAAE,OAAO,CACrC,CAAC;IACJ,CAAC;IAED,iBAAiB,CAAY,IAAY,EAAE,OAAgB;QACzD,MAAM,CAAC,IAAI,CAAC,YAAY,CACtB,8BAAqB,EAAE,IAAI,EAAE,OAAO,CACrC,CAAC;IACJ,CAAC;IAED,wBAAwB,CACtB,IAAY,EAAE,OAAgB;QAE9B,MAAM,CAAC,IAAI,CAAC,YAAY,CACtB,qCAA4B,EAAE,IAAI,EAAE,OAAO,CAC5C,CAAC;IACJ,CAAC;IAED;;OAEG;IACH,MAAM,CAAE,EAAmB;QACzB,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC,GAAI,EAAU,CAAC,KAAK,CAAC;IACxD,CAAC;IAEO,YAAY,CAClB,IAAqD,EACrD,IAAY,EAAE,OAAgB;QAE9B,MAAM,CAAC,IAAI,IAAI,CAAC;YACd,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI;YAC/B,IAAI,EAAE,IAAI;YACV,OAAO,EAAE,OAAO;SACjB,CAAC,CAAC;IACL,CAAC;CACF;AA9DD,kCA8DC","file":"exceptional.js","sourcesContent":["import {\r\n  IException,\r\n  ServerException as ServerExceptionBase,\r\n  DomainException as DomainExceptionBase,\r\n  ConflictException as ConflictExceptionBase,\r\n  InputValidationException as InputValidationExceptionBase,\r\n  NotFoundException as NotFoundExceptionBase\r\n} from './lib/exceptions';\r\nimport {Namespace} from './lib/namespace';\r\n\r\nexport class Exceptional {\r\n\r\n  /**\r\n   * Private constructor.\r\n   */\r\n  private constructor (\r\n    private _namespace: Namespace\r\n  ) {}\r\n\r\n  static create (ns: Namespace) : Exceptional {\r\n    return new Exceptional(ns);\r\n  }\r\n\r\n  ServerException <Payload> (code: number, payload: Payload) {\r\n    return this._instantiate<ServerExceptionBase<Payload>, Payload>(\r\n      ServerExceptionBase, code, payload\r\n    );\r\n  }\r\n\r\n  DomainException <Payload> (code: number, payload: Payload) {\r\n    return this._instantiate<DomainExceptionBase<Payload>, Payload>(\r\n      DomainExceptionBase, code, payload\r\n    );\r\n  }\r\n\r\n  ConflictException <Payload> (code: number, payload: Payload) {\r\n    return this._instantiate<ConflictExceptionBase<Payload>, Payload>(\r\n      ConflictExceptionBase, code, payload\r\n    );\r\n  }\r\n\r\n  NotFoundException <Payload> (code: number, payload: Payload) {\r\n    return this._instantiate<NotFoundExceptionBase<Payload>, Payload>(\r\n      NotFoundExceptionBase, code, payload\r\n    );\r\n  }\r\n\r\n  InputValidationException <Payload> (\r\n    code: number, payload: Payload\r\n  ): InputValidationExceptionBase<Payload> {\r\n    return this._instantiate<InputValidationExceptionBase<Payload>, Payload>(\r\n      InputValidationExceptionBase, code, payload\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Format an exception.\r\n   */\r\n  format (ex: IException<any>) : string {\r\n    return this._namespace.render(ex) + (ex as any).stack;\r\n  }\r\n\r\n  private _instantiate <T, Payload> (\r\n    cTor: {new (...args: any[]): T & IException<Payload>},\r\n    code: number, payload: Payload\r\n  ) {\r\n    return new cTor({\r\n      namespace: this._namespace.name,\r\n      code: code,\r\n      payload: payload\r\n    });\r\n  }\r\n}\r\n"],"sourceRoot":"D:\\projects\\exceptional.js/src"}