{"version":3,"sources":["main.ts"],"names":[],"mappings":";;AAAA,+CAA0C;AAC1C,+CAA0C;AAM/B,QAAA,iBAAiB,GAAG,IAAI,GAAG,EAAqB,CAAC;AAC5D,sBAAuB,IAAY;IACjC,IAAI,SAAS,GAAG,yBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAC5C,EAAE,CAAC,CAAC,SAAS,CAAC;QACZ,MAAM,CAAC,SAAS,CAAC;IAEnB,SAAS,GAAG,IAAI,qBAAS,CAAC,IAAI,CAAC,CAAC;IAChC,yBAAiB,CAAC,GAAG,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;IACvC,MAAM,CAAC,SAAS,CAAC;AACnB,CAAC;AAED,uBAA8B,KAAkB;IAC9C,IAAI,SAAS,GAAG,YAAY,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;IAC9C,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;AAC7B,CAAC;AAHD,sCAGC;AAED,iBAAyB,IAAY;IACnC,MAAM,CAAC,yBAAW,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;AAChD,CAAC;AAFD,0BAEC;AAED;;GAEG;AACH,gBAAwB,EAAmB;IACzC,IAAI,SAAS,GAAG,yBAAiB,CAAC,GAAG,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;IACpD,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;QACb,MAAM,6BAA6B,CAAC;IAEtC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;AAC9B,CAAC;AAND,wBAMC","file":"main.js","sourcesContent":["import {Exceptional} from './exceptional';\r\nimport {Namespace} from './lib/namespace';\r\nimport {IErrorTable} from './lib/IErrorTable';\r\nexport * from './lib/IErrorTable';\r\nimport {IException} from './lib/exceptions';\r\nexport {IException} from './lib/exceptions';\r\n\r\nexport let namespaceRegistry = new Map<string, Namespace>();\r\nfunction getNamespace (name: string) {\r\n  let namespace = namespaceRegistry.get(name);\r\n  if (namespace)\r\n    return namespace;\r\n\r\n  namespace = new Namespace(name);\r\n  namespaceRegistry.set(name, namespace);\r\n  return namespace;\r\n}\r\n\r\nexport function registerTable(table: IErrorTable) {\r\n  let namespace = getNamespace(table.namespace);\r\n  namespace.loadTable(table);\r\n}\r\n\r\nexport function context (name: string) : Exceptional {\r\n  return Exceptional.create(getNamespace(name));\r\n}\r\n\r\n/**\r\n * Format an exception.\r\n */\r\nexport function format (ex: IException<any>) : string {\r\n  let namespace = namespaceRegistry.get(ex.namespace);\r\n  if (!namespace)\r\n    throw `Could not format exception.`;\r\n\r\n  return namespace.render(ex);\r\n}\r\n"],"sourceRoot":"D:\\projects\\exceptional.js/src"}